---
title: 'Vue树组件实现'
categories:
- 前端 
tags: 
- Vue
description: Vue树组件实现
cover:  https://blog-misaka1033.oss-cn-beijing.aliyuncs.com/blog/images/7a9141ce8a0e9286cdfd0794fd566e0a7838482d.png@518w_1e_1c.webp
---

# 概要

## 目标

参考elementui的树组件源码，研究源码，是为了实现一个轻量的目录树组件，用作文章目录结构。直接使用el-tree一方面存在冗余，例如多选，单选之类的功能，另一方面，存在自由度的问题，如果是订制样式的树结构，反而需要添加更多冗杂的样式，甚至是逻辑，进行hack。

# elementui树组件源码

# 要素

## 组件递归

## 事件传递

## 折叠动画

### 方案collapse-transition

### min-height方案

## 数据管理

### 数据集合

### 折叠状态

状态放在节点组件中进行维护？

### 选中节点

# tree组件实现

## 接口定义

### 属性

#### 基础数据treeData

treeData需要是一个数组，类型根据dataType指定，默认是nest类型

#### options

数据类型dataType

* 'nest' 嵌套数组
* 'flat' 扁平数组
* 默认类型是nest类型




子级左偏移像素值offsetLeft

* 字符串
* 需要携带单位，如'10px'

### 事件

### 实例方法

## data层

* 当前选中的节点

# tree-node组件实现

