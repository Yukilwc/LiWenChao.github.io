---
title: '问题集'
categories:
- 其他
tags: 
- 收集
description: 记录突然想到，看到的，期望知晓的一些问题
cover: https://blog-misaka1033.oss-cn-beijing.aliyuncs.com/blog/images/1599308368182.webp
---

备忘: 2020/12/17 17:14

# 前端

## Javascript

* CSS hover的原理
  * 可否用js做一个实现？因为在样式控制封装上，vue可以提供click，focus，blur，mouse相关的事件，提供控制，但hover缺难以实现，导致在进行元素的style控制时，不得以的使用js+css联合控制。因此，期望能找到一个全js控制的方案,例如一个v-hover指令。
* flex的使用情景，方法深入
  * 当前的flex使用仅仅停留在对齐，居中上，而对于其弹性的理解和使用，并不深刻，需要研究下flex更广泛的用法，比如在栅格布局中的使用。
* vue事件函数传参问题
  * 使用原生事件，如@input，或者自定义事件，在bind的函数中，如何传入自己的参数，如for循环中的index，同时，又可以又event参数的注入。
  * 其中，e,$event，应该写哪个，参数调用时命名和顺序是怎样的影响？
  * 而对于原生事件，如onClick,其默认参数名是什么，如何传入多个参数？
* el-button文本在flex下偏移问题，360存在。需要去除默认的padding
* 如何在vscode中写前端代码，添加只能提示，就像框架一样？
* 按需引用el-collapse-transition不生效的问题，切换下lib/package中的引用，可能是因为引用的组件没有经过编译
* 动态引入一个文件夹下的所有vue组件，适用情景，引入固定文章tab组件时。[参考](https://www.cnblogs.com/guxuelong/p/12779815.html) [参考](https://blog.csdn.net/weixin_40438455/article/details/103741882?utm_medium=distribute.pc_aggpage_search_result.none-task-blog-2~all~sobaiduend~default-1-103741882.nonecase&utm_term=vue%20%E4%B8%80%E6%AC%A1%E5%AF%BC%E5%85%A5%E6%96%87%E4%BB%B6%E4%B8%8B%E6%89%80%E6%9C%89%E7%BB%84%E4%BB%B6&spm=1000.2123.3001.4430)
* elementui的表单校验，el-form-item是可以单独传入指定rule的，不需要固定顶部el-form去绑定。这适用于动态表单验证。
* elementui的表单校验，prop属性，本质会进行路径解析，支持数组路径和对象路径，可以传递tableData.1.id,这是动态表单验证的基础。
* 擅用splice去除数组指定索引的元素。总结下常用的数组，字符串处理方法，防止自己去手动循环处理。[参考](https://blog.csdn.net/guanguan0_0/article/details/87629044)
* 数字验证封装，包括输入时替换禁止输入，和保存时验证。
  * 需要明确，用户并不一定从input输入，也可能是后端传递的数据回显，因此类型可能是字符串，也可能是数组等。
  * type=number的缺陷，自动转换的不可控性，支持e输入，多小数点等
  * 通过keydown的拦截，无法阻止复制
  * 验证整数：
  * 最多两位小数:
  * 验证输入意义上的空，需要处理空串被转换成0，因为不能适用+来做类型转换.后端可能传递了0，因此不可直接用!进行转换。
* 封装js类型判定的方法集合
* axios上传下载文件的封装，另外下载的form构建方法，可以获取文件名。而axios下载方法，需要通过header中deposition字段获取名称。[参考](https://blog.csdn.net/jingtian678/article/details/105743816)
* 使用思维导图，绘制多重嵌套函数的异常处理逻辑
  * 支持原子节点的异常特化处理
  * 支持通用性处理
* vue响应式绑定两个坑：
  * 通过索引修改数组，需要$set
  * 去动态的，给data中的对象，添加属性，直接添加的属性，是无法响应式的，也需要$set
* 日期格式化封装.需要自己封装，或者学习使用日期库。
* 正则的研究
* 封装一个数组判重函数，可注入相等函数compare,定义等于的规则

* 封装文件下载，上传通用工具类
  > 自己命名与文件默认命名
  > form元素构造与参数拼接封装
* 封装截取屏幕生成图片工具类.
  > 注意dataUrl像素大小限制问题，需要用blob解决.如360安全浏览器，限制4M图片下载
* 扁平数组与嵌套数组的相互转换
* 引用el折叠组件不生效的问题，需要引用lib里的组件
* el校验组件经验，el-form-item是可以单独配置rule的
* 数组方法常用： splice,根据索引去除元素
* 数组方法常用： join, 拼接
* 常用正则总结，小数保留等。
* type =number的坑，无限制负号，小数点等
* 非空校验，数字校验的可靠性
* vue input绑定的始终是字符串吗
* js类型判断封装
* vue forEach修改数组，视图不更新
* 日期格式化封装，或者学习日期框架
* 封装数组集合操作，去重操作，判断相等操作
* vue父组件收集子组件实例方法

js缓存更新机制，刷新缓存版本

2020/01/01 2020-01-01时间转换的偏差起点

js如何判断全部图片加载完成，最好有完成后的钩子

总结获取dom尺寸的全部方法： offsetWidth,getComputedStyle,getBoundingClientRect

获取dom距离屏幕距离的方法

类中使用箭头函数方法，解决this问题

canvas.toDataUrl在不同浏览器下载文件的限制和解决

校验工具总结：非空，大于0整数，整数，小数两位，非负数

vue中，使用变量拼接字符串现实，会有undefined闪烁问题，一是可以提供通用方法转换空串，一个是可以直接显示，不做字符串类的拼接


  
## 地图

* 百度地图如何移动视口中心到指定位置
* vue-baidu-map在非ready函数中，操作了data层的center，zoom，导致报错的原因。

## 小程序

* 小程序怎样setdata一个数组中的元素，其中数组名，索引均为变量

小程序动画的设计思路，要注意，动画开启与结束阶段，存在点击触发，导致动画控制变得交叉，引发错误.解决方案是，一个是维护一个动画栈，动画结束前禁止操作。一个是if直接销毁元素,污染的动画样式就不会有效了。

img mode="widthFix"闪烁问题，小程序必须显示设定高度宽度，如高度固定，宽度自适应，也需要width: auto;

小程序页面顶部变量并不会销毁，慎重使用，如果使用，注意在page构造时初始化

小程序数组更新工具，需要封装，还有vue的，更新指定索引/指定id的一个属性

小程序图片资源也会占用打包容量，需要同一发布到云端，如此，对接口图片，本地图片，运行时判断图片，可以封装一个新的image组件

对组件传值，如lazy-load={{true}},组件内接受时，不论vue还是小程序，prop名字应该是lazyLoad

## 组件设计

* popup控件的设计思路，是否要销毁元素，还是仅仅下滑动画
* 怎样实现v-loading
* el-collapse-transition的作用，原理，实现

## CSS

* 常用的阴影总结
* 常用的动画总结封装
* 封装，阻止块级元素换行的方案，自动加入...以及如何做到加入省略号的文本，悬停存在弹出提示，类似element表格效果
* 使用var(--themecolor)做主题色的技巧，原理,themepicker的本质
* css如何给背景设置图片，同时指定颜色
* 排布时，间距的控制权，由下方元素决定。
* 加阴影时，一定要注意z-index的覆盖问题
* 未设置content的话，伪元素before,after是不会生效的
* transform导致fixed失效 [详情](https://blog.csdn.net/wp_boom/article/details/90268358)
* 封装换行/禁止换行的css，明确内部元素是块还是行内元素
* white-space pre和pre-line的区别
* height的100%问题，与定位方法的联系
* scss封装css3兼容性 [参考](https://blog.csdn.net/weixin_30457065/article/details/94780965)
* 全局样式的命名方式，简单写和简单读的考量。情景，暂时如果不写style模块，就用全局拼接。尽可能维持一致的控制，防止出现一个dom，被多个样式控制，且控制顺序难以决定。
* white-space详解，情景
  > pre,pre-line
* 手撸表格经验谈
  > 统一的宽度，尺寸管理
* line-height应用情景
  * 行间距
  * flex-start对齐
  * flex居中无法使用溢出省略号，此时可以用行高居中
* css font-family选择


vue template中，方法触发的时机？列表中方法触发？

/deep/需要在scoped中才生效，否则添加的样式会失效!

内联元素自动换行,块元素不换行隐藏

做溢出文本的隐藏显示省略号，如果元素是flex容器，则必须在其内部加个span，否则不会生效.再就不用flex，直接line-height居中

animation-fill-mode属性，控制动画循环引起的闪烁，小程序默认为最终状态，如果要和css相同，则需要手动clear

## nuxtjs

* nuxt有几种引入全局css的方案，每种的优先级如何，是怎样渲染到html中的，如何做到抽离css的渲染，好处是什么
* 如何不使用插件，做到nuxt按页面的按需引入，切仅在客户端执行
* nuxt环境变量配置，一是需要安装cross-env,同时还需要在config文件配置，否则无效。并且谨慎设置NODE_ENV,因为框架本身对其依赖，最好用别的名字
* nuxt的闪烁，loading问题的最优解

## 可靠性&效率&约定

* 如何区分测试与生产，使用url query和环境变量
* 测试mock
* 离开页面时，如何优雅的清空interval以及一些监听
* 基于约定的意义：
  * 约定什么: 接口，变量命名，风格指南
  * 约定的意义
* 为了在对接口前完善前端代码，需要隔离业务页面与接口联系，因此：
  * 接口名字自己定义，以API结尾
  * 变量名字用m_开头，方便删除
* 去看大厂，技术文档的风格指南，例如vue的
* monorepos组织方式,lerna进行多包管理

按钮等点击事件，不再添加handle

如何提升代码可靠性：单元测试，基于接口编程，code review

# 运维

* 如何一个项目，部署到两个远程git服务器
* 开启gzip的方法，对性能，大小影响的分析
* 需要学习gulp脚本，批处理脚本
* 一次不相邻分区,使用win10 和分区工具

# 工具

## vim

* vim如何一次输入指定数量字符，用来作注释前缀,如30个等于号
* vim1.15.0版本用着没问题

## chrome

* html断点的监听变化,chrome可以监听dom的变化，这对监控一闪而过的弹窗组件很有效，可以监听样式，dom添加，移除，可以直接在body上打断点监听。

## vscode

* TODO Highlight和TODO Tree必须一起使用，用来记录需要变更修改的地方，防止忘记

vscode修改保存后自动格式化

vscode如何提高分辨率

可以配置快速插入代码块的功能，能大大的提高效率，后面需要建立自己的前端vscode代码块库.如try catch的风格



## 其他

工具篇，增加转kindle工具

一套electron打包工具，浏览器壳子


## 测试

* cypress,单元测试的断言，语法.Chai.js,mocha的关系是什么

## 设计

在网上有很多现成的设计图，可以进行使用和模仿，做app

例如，[luckey coffee](https://www.xiaopiu.com/square?libPop=project&libId=5c306b252d5cd56e70a1e640)

墨刀也有素材库

摹客

## 视频下载

[bilibili视频在线解析下载](https://www.xbeibeix.com/api/bilibili),问题是无法下载最高画质

[哔哩哔哩助手：bilibili.com 综合辅助扩展](https://chrome.google.com/webstore/detail/%E5%93%94%E5%93%A9%E5%93%94%E5%93%A9%E5%8A%A9%E6%89%8B%EF%BC%9Abilibilicom-%E7%BB%BC%E5%90%88%E8%BE%85%E5%8A%A9%E6%89%A9%E5%B1%95/kpbnombpnpcffllnianjibmpadjolanh)


# 经验

* 学习代码，技术的必经之路，是观看，解析，模仿优秀的源码，例如flutter，必定，需要看别人的经验。
  * 但是模仿之前，1 需要浏览文档 2 需要自己去写demo，自己琢磨，思考正确的设计思想，编码风格 3 最后参考别人，才能获得最大的收益，最深的思考。

网站的banner图，不要使用图片自动撑开高度，那会发生很强的闪烁，要使用固定宽高比例的容易处理。

pc端网页强行在移动端展示，加个body min-width,也可以调整meta

路由的next是容易产生无限循环的，一定要谨慎处理.

一批次的路由，进入页面前需要执行某些逻辑，该如何封装

swiper坑系列： box-sizing配置

小程序data-必须小写

去重思路，[...new SET(arr)],arr可以是多个字段拼接

vim正则查询

setData小程序官方同步异步的解释

vue cli3配置环境变量

vuex如何跨模块相互访问？其实在设计角度并不推荐如此。

uniapp使用vscode

常识 Mustache, SOLID原则,DSL

gradle研究

一个工程应该包含的要素体系：文件结构，资源使用，路由，启动周期,依赖管理,异常处理，日志打印，流程控制语句，

手写表格经验谈:文本溢出单元格 ;只能且必须仅有一个单元格需要弹性，否则会有空隙;宽度需要css设置一个sizeController同一管理，边框是否也要?

文章中如果需要嵌入代码，那此代码需要有极高的纯度

# flutter

* flutter实现ui库用来练习,模仿b漫，米游社
* uniapp，flutter，rn分析 [参考](https://yrom.net/blog/2019/12/29/add-flutter-to-bilibili-comic/)
* flutter准备,android studio,android sdk tool java sdk  [参考](https://jingyan.baidu.com/article/c33e3f48fd742bea15cbb507.html)
* 关于flutter嵌套风格的讨论:[文章](https://github.com/flutter/flutter/issues/11609)
  * 思考如何编写，如何拆分，让flutter组件的可读性，可维护性类似html
* 环境配置要素

flutter 可以去看youtube的视频教程，方便学习，也为以后啃生肉，学特效做准备。

黑苹果运行flutter

container的装饰职责，column/row的排列控制职责，所体现的思想，设计理念

flutter json转实体类,状态管理,路由封装

flutter如何避免代码过多嵌套

从抽象意义理解flutter

flutter android studio,借助ide提升开发效率:快捷键，插入代码块stl等，插入，移除widget

类图构造，实例化流程构造

flutter lottie



# 效率提升

## 系统构造前的准备工作

* 四种主题色，背景色，悬停色，点击色
* 用户登录态，持久登录态，权限的控制，信息的载入
  * 当前登录态，session相关
  * 持久登录态，自动登录相关
  * 权限更新触发的节点，是页面进入还是系统进入
  * 确保核心信息更新完成后，加载页面级别，防止401出现
* 输入框的文字，placeholder,输入框包含 input，autocomplete，select
  * select多选，单选选中风格
  * 下拉框中的item展示，其与业务相关
* 输入框的边框，背景，内边距
* 校验体系
* 可点击文字的风格
* 表格 表头，表结构，边框，斑马纹，文字，悬停行背景色，表格内输入框风格
* 弹窗的尺寸规范，标题，边距，页脚
* 导航栏设计风格
* 侧边栏设计风格
* 页面加载loading，页面载入后触发的页内loading，空状态规范
* confirm框风格
* message风格
* popover风格
* keep-alive维持的考量

## 大一统的，规范布局约定

其极大的方便了样式，构造的快速理解，修改
* 页面
  * fix布局元素，宽度占满时，使用100vw，而不是100%，因为100%会被滚动条挤压，引起抖动
  * 非fix布局占满时，需要使用100%，防止出现横向滚动条 此问题待解决
* 容器
  * 考察其是否规范左右边距，如果规范，左右边距由容器控制
  * 容器不负责上下边距的控制，让元素堆叠更加独立可控
* 容器内堆叠的元素
  * 元素控制其上边距
  * 最后一个元素，同时控制上下边距
  * 如此处理的原因，是希望堆叠时，计算时，不需要考虑容器的占位
  * 这里做经验尝试，后续继续总结更加统一的方法
* 固定宽高容器
  * 如logo，必定显示设定宽度，高度，防止小数点偏差的截取，以及padding撑开导致的坍塌
* 弹性宽度容器
  * 内部内容动态时使用
* 弹性高度容器
  * 内部内容动态时使用
  * 需要考虑是否设置min-height
* 核心大型模块尺寸，特别是重复利用的，需要设置变量
* 顶级颜色全部使用css变量，然后再使用class设定.css变量便于style中使用，class方便挂载
* 如果图片是支撑文档流的，比如banner图，则必定设定高度，防止图片未加载完成时导致坍塌
  * 如果图片高度不定，但比例固定，可使用padding比例撑开
  * 如果高度不定，比例不定，则可设置最小高度，或者修改未不引起坍塌的布局